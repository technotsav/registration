<!--<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
    <title>Technotsav'24</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" crossorigin="anonymous">
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="js/main_animation.js"></script>
</head>

<body>
    <div id="animations">
        <div id="main_body" class="body_class">
            <h1 style="font-family: 'Roboto', sans-serif; font-style: initial;">Technotsav</h1>
            <h2 class="desc" style="font-weight: 10; font-size: 20px;">
                Join us to 
                <span class="text-switcher" style="font-style: initial; font-size: 22px;" data-hold-time="1000" data-switch-content='[ "Invent.", "Ignite.","Paradox.","Dance.","Game."]'></span>
            </h2>
            <hr style="width: 50%; background-color: #1D2951; border-color: #1D2951;">
            <!-- <a href="https://instagram.com/" style="color: white;"><i class="fab fa-instagram" style="font-size: 2em;"></i></a> &nbsp  -->
            <!-- <a href="https://github.com/" style="color: white;"><i class="fab fa-github" style="font-size: 2em;"></i></a> &nbsp -->

      <!--  </div> 
    </div>
</body>

</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Particles</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto&display=swap">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');
html, body { 
  
  margin: 0;
  height: 100%;
  /* overflow: hidden; */
  font-family: 'Roboto' !important; 
  color: #000000;
  font-size: 9px;
  overflow-x: hidden;
}

#magic {

  position: top;
  width: 100%;
  height: 100vh;
  display: block;
  top: 0;
  left: 0;
  z-index: -9999;
}

.playground{

  position: top;
  width: 100%;
  height: 100vh;
  display: block;
  top: 0;
  left: 0;
  display: flex;
  flex-wrap: nowrap;
  flex-direction: column;
  align-items: center;

}
.two{
  position: top;
  width: 100%;
  height: 100vh;
  display: block;
  top: 0;
  display: flex;
  flex-wrap: nowrap;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}
.bottomPosition{

  text-align: center;
  
}
.minText{
  
  font-size: 14px;
}

a {
  color: white;
  font-size: 12px;
  text-decoration: none;
}

.logo {
    width: 50px;
    height: 50px;
}
.container {
      position: relative;

    }

    .special {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      color: white;
      font-size: 24px;
    }

    .form-container {
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      
      left: 50%;
      padding: 20px;
      position: sticky;
      box-sizing: border-box;
      z-index: 100;
    }
    .fill{
      margin-top: 50px;
      margin-left: 20px;
      margin-right: 20px;
      font-size: 25px;
      color: #333;
      margin-bottom: 5px;
      display: block;
    }

    label {
      margin-top: 50px;
      margin-left: 20px;
      margin-right: 20px;
      font-size: 14px;
      color: #333;
      margin-bottom: 5px;
      display: block;
    }

    input {
      width: 98%;
      padding: 10px;
      margin-left: 20px;
      margin-right: 20px;
      margin-bottom: 15px;
      box-sizing: border-box;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
    }

    input[type="checkbox"] {
      transform: scale(2);
      /* justify-content: flex-start;
      align-self: start; */
      /* margin-right: 5px; */
      /* vertical-align: middle; */
      /* top: 0; */
    }

    input[type="submit"] {
      position: relative;
      background-color: #007bff;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin-bottom: 80px;
    }
    .input-field {
      width: 98%;
      padding: 10px;
      margin-left: 20px;
      margin-right: 20px;
      margin-bottom: 15px;
      box-sizing: border-box;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
}


    .fields-container {
      margin-top: 10px;
    }

    .hidden {
      display: none;
    }
    .checkbox-label {
      /* display: inline-block; */
      /* width: 45%;  */
      text-align: center;
      font-size: 20px;
      vertical-align: middle;
      justify-content: center;
      margin-bottom: 50px;/* Adjust this value as per your preference */
    }
    .checkbox-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
    }


  </style>
</head>
<body>


<div class="container">
  <h1 class="special"> ↓↓ Register Now ↓↓  <br><span class="minText">Scroll Down.</span></h1>  
    <div id="magic"></div> 
</div>

  <form action="https://script.google.com/macros/s/AKfycbxhSPleC2-ZsnKaVYnNa63JrdZy2gCV1HgLYle3lIWowt6A23z8Z_iuHUeSi56_pCU/exec" method="POST" id="registrationForm">
    
    <div class="form-container">
      <h1 class="fill"> Enter Your Details  </h1><br>
      <label for="Full Name [ Name - Surname ]">Name:</label>
      <input type="text" placeholder="Name Surname" name="Full Name [ Name - Surname ]" required >
  
      <label for="WhatsApp Number">Phone:</label>
      <input type="tel" pattern="[0-9]{10}" placeholder="WhatsApp Number" name="WhatsApp Number" required>
  
      <label for="Currently Study">Class:</label>
<select name="Currently Study" required class="input-field">
    <option value="">Select Class</option>
    <option value="11th">11th</option>
    <option value="12th">12th</option>
    <option value="First Year">First Year</option>
    <option value="Second Year">Second Year</option>
    <option value="Third Year">Third Year</option>
    <option value="Fourth Year">Fourth Year</option>
</select>

  
      <label for="Name of College">College Name:</label>
      <input type="text" placeholder="College Name - Location" name="Name of College" required>
  
      <h2 class="fill">Select Events:</h2><br>
<div class="checkbox-container">
    <label class="checkbox-label" for="eventLogicLoops">
        <input type="checkbox" name="Select an event" value="LogicLoops" id="eventLogicLoops" onchange="handleEventChange()"> LogicLoops
    </label>
  
    <label class="checkbox-label" for="eventCodeDeBasanti">
        <input type="checkbox" name="Select an event" value="Code De Basanti" id="eventCodeDeBasanti" onchange="handleEventChange()"> Code De Basanti
    </label>
  
    <label class="checkbox-label" for="eventPiRates">
        <input type="checkbox" name="Select an event" value="pi-Rates" id="eventPiRates" onchange="handleEventChange()"> pi-Rates
    </label>
  
    <label class="checkbox-label" for="eventElectroQuest">
        <input type="checkbox" name="Select an event" value="ElectroQuest" id="eventElectroQuest" onchange="handleEventChange()"> ElectroQuest
    </label>

    <label class="checkbox-label" for="eventNritya-Abhay">
        <input type="checkbox" name="Select an event" value="Nritya-Abhay" id="eventNritya-Abhay" onchange="handleEventChange()" > Nritya-Abhay
    </label>
</div>

      
      
    
      <div id="logicLoopsFields" style="display: none;">
        <label for="Number of Team members for logic loops">Number of Team Members for LogicLoops:</label>
<select id="logicLoopsTeamMembers" name="Number of Team members for logic loops" class="input-field">
  <option value="">0</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
</select><br>

        
        <label for="LL: team name">LogicLoops Team Name:</label>
        <input type="text" name="LL: team name"><br>

        <div id="member1" style="display: none;">
        <label for="LL: name 1">Member 1:</label>
        <input type="text" name="LL: name 1"><br>      
        <label for="LL: number 1">Number 1:</label>
        <input type="text" name="LL: number 1"><br>
      </div>

        <div id="member2" style="display: none;">
        <label for="LL: name 2">Member 2:</label>
        <input type="text" name="LL: name 2"><br>
        <label for="LL: number 2">Number 2:</label>
        <input type="text" name="LL: number 2"><br>
      </div>

        <div id="member3" style="display: none;">
        <label for="LL: name 3">Member 3:</label>
        <input type="text" name="LL: name 3"><br>
        <label for="LL: number 3">Number 3:</label>
        <input type="text" name="LL: number 3"><br>
      </div>
    </div>
  
    <div id="codeDeBasantiFields" style="display: none;">
      <label for="Number of Team members for Code de basanti">Number of Team Members for Code De Basanti:</label>
      <select id="codeDeBasantiTeamMembers" name="Number of Team members for Code de basanti" class="input-field">
        <option value="">0</option>  
        <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
      </select><br>
      
  
        <label for="CDB: team name">Team Name:</label>
        <input type="text" name="CDB: team name"><br>
  
        <div id="cdbmember1" style="display: none;">
        <label for="CDB: name 1" >Member 1:</label>
        <input type="text" name="CDB: name 1"><br> 
        <label for="CDB: number 1">Number 1:</label>
        <input type="text" name="CDB: number 1"><br>
        </div>

        <div id="cdbmember2" style="display: none;">
        <label for="CDB: name 2">Member 2:</label>
        <input type="text" name="CDB: name 2"><br>
        <label for="CDB: number 2">Number 2:</label>
        <input type="text" name="CDB: number 2"><br>
        </div>

        <div id="cdbmember3" style="display: none;">
        <label for="CDB: name 3">Member 3:</label>
        <input type="text" name="CDB: name 3"><br>
        <label for="CDB: number 3">Number 3:</label>
        <input type="text" name="CDB: number 3"><br>
        </div>  

        <div id="cdbmember4" style="display: none;">
        <label for="CDB: name 4">Member 4:</label>
        <input type="text" name="CDB: name 4"><br>
        <label for="CDB: number 4">Number 4:</label>
        <input type="text" name="CDB: number 4"><br>
        
      </div>
    </div>
  
    <div id="electroQuestFields" style="display: none;">
      <label for="Number of Team members for ElectroQuest">Number of Team Members for ElectroQuest:</label>
<select id="electroQuestTeamMembers" name="Number of Team members for ElectroQuest" class="input-field">
  <option value="">0</option>
  <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
</select><br>

  
      <label for="EQ: team name ">ElectroQuest Team Name:</label>
      <input type="text" name="EQ: team name "><br>
  
      <div id="eqmember1" style="display: none;">
      <label for="EQ: name 1">Member 1:</label>
      <input type="text" name="EQ: name 1"><br>  
      <label for="EQ: number 1">Number 1:</label>
      <input type="text" name="EQ: number 1"><br>
    </div>

    <div id="eqmember2" style="display: none;">
      <label for="EQ: name 2">Member 2:</label>
      <input type="text" name="EQ: name 2"><br>  
      <label for="EQ: number 2">Number 2:</label>
      <input type="text" name="EQ: number 2"><br>
    </div>

<div id="eqmember3" style="display: none;">
      <label for="EQ: name 3">Member 3:</label>
      <input type="text" name="EQ: name 3"><br>
  
      <label for="EQ: number 3">Number 3:</label>
      <input type="text" name="EQ: number 3"><br></div>
    </div>
  
    <div id="piRatesFields" style="display: none;">
      <label for="Number of Team members for pi-Rates">Number of Team Members for piRates:</label>
<select id="piRatesTeamMembers" name="Number of Team members for pi-Rates" class="input-field">
  <option value="">0</option>
  <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
</select><br>

  
      <label for="PR: team name">piRates Team Name:</label>
      <input type="text" name="PR: team name"><br>
  
      <div id="prmember1" style="display: none;">
      <label for="PR: name 1">Member 1:</label>
      <input type="text" name="PR: name 1"><br>
  
      <label for="PR: number 1">Number 1:</label>
      <input type="text" name="PR: number 1"><br>
    </div>
    <div id="prmember2" style="display: none;">
      <label for="PR: name 2">Member 2:</label>
      <input type="text" name="PR: name 2"><br>
  
      <label for="PR: number 2">Number 2:</label>
      <input type="text" name="PR: number 2"><br>
    </div>
    <div id="prmember3" style="display: none;">
      <label for="PR: name 3">Member 3:</label>
      <input type="text" name="PR: name 3"><br>
  
      <label for="PR: number 3">Number 3:</label>
      <input type="text" name="PR: number 3"><br>
    </div>
    </div>
    
    <div id="nrityaAbhayFields" style="display: none;">
      <label for="Number of Team members for Nritya-Abhay">Number of Team Members for Nritya-Abhay:</label>
<select id="nrityaAbhayTeamMembers" name="Number of Team members for Nritya-Abhay" class="input-field">
  <option value="">0</option>
  <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
</select><br>
  
      <label for="NA: team name">Team Name:</label>
      <input type="text" name="NA: team name"><br>
      <div id="namember1" style="display: none;">
      <label for="NA: name 1">Member 1:</label>
      <input type="text" name="NA: name 1"><br>
  
      <label for="NA: number 1">Number 1:</label>
      <input type="text" name="NA: number 1"><br>
    </div>
    <div id="namember2" style="display: none;">
      <label for="NA: name 2">Member 2:</label>
      <input type="text" name="NA: name 2"><br>
  
      <label for="NA: number 2">Number 2:</label>
      <input type="text" name="NA: number 2"><br>
    </div>
    <div id="namember3" style="display: none;">
      <label for="NA: name 3">Member 3:</label>
      <input type="text" name="NA: name 3"><br>
  
      <label for="NA: number 3">Number 3:</label>
      <input type="text" name="NA: number 3"><br>
    </div>
    <div id="namember4" style="display: none;">
      <label for="NA: name 4">Member 4:</label>
      <input type="text" name="NA: name 4"><br>
    
      <label for="NA: number 4">Number 4:</label>
      <input type="text" name="NA: number 4"><br>
    </div>
    <div id="namember5" style="display: none;">
      <label for="NA: name 5">Member 5:</label>
      <input type="text" name="NA: name 5"><br>
  
      <label for="NA: number 5">Number 5:</label>
      <input type="text" name="NA: number 5"><br>
    </div>
    <div id="namember6" style="display: none;">
      <label for="NA: name 6">Member 6:</label>
      <input type="text" name="NA: name 6"><br>
  
      <label for="NA: number 6">Number 6:</label>
      <input type="text" name="NA: number 6"><br>
    </div>
    <div id="namember7" style="display: none;">
      <label for="NA: name 7">Member 7:</label>
      <input type="text" name="NA: name 7"><br>
  
      <label for="NA: number 7">Number 7:</label>
      <input type="text" name="NA: number 7"><br>
    </div>
    <div id="namember8" style="display: none;">
      <label for="NA: name 8">Member 8:</label>
      <input type="text" name="NA: name 8"><br>
  
      <label for="NA: number 8">Number 8:</label>
      <input type="text" name="NA: number 8"><br>
    </div>
    </div>
    <input type="submit" value="Submit">
    
    <script>
     

            form.addEventListener('submit', e => {
              e.preventDefault()
              fetch('https://script.google.com/macros/s/AKfycbxhSPleC2-ZsnKaVYnNa63JrdZy2gCV1HgLYle3lIWowt6A23z8Z_iuHUeSi56_pCU/exec', { method: 'POST', body: new FormData(form)})
              .then(response => alert("Thank you! your form is submitted successfully." ))
              .then(() => { window.location.reload(); })
              .catch(error => console.error('Error!', error.message))
            })
                  document.getElementById('registrationForm').addEventListener('submit', function(event) {
                var checkboxes = document.querySelectorAll('input[type="checkbox"][name="Select an event"]');
                var isChecked = false;
                
                checkboxes.forEach(function(checkbox) {
                    if (checkbox.checked) {
                        isChecked = true;
                    }
                });

                if (!isChecked) {
                    alert('Please select at least one event.');
                    event.preventDefault(); // Prevent the form from submitting
                }
            });

            function handleEventChange() {
            var logicLoopsCheckbox = document.getElementById("eventLogicLoops");
            var codeDeBasantiCheckbox = document.getElementById("eventCodeDeBasanti");
            var piRatesCheckbox = document.getElementById("eventPiRates");
            var electroQuestCheckbox = document.getElementById("eventElectroQuest");
            var nrityaAbhayCheckbox = document.getElementById("eventNritya-Abhay");
  
            if (logicLoopsCheckbox.checked) {
                if(piRatesCheckbox.checked){
                  piRatesCheckbox.checked=false;
                }
                piRatesCheckbox.disabled = true;            
            }else{
              if(piRatesCheckbox.disabled){
                piRatesCheckbox.disabled=false;
              }
            }
            if (codeDeBasantiCheckbox.checked) {
                if(electroQuestCheckbox.checked){
                  electroQuestCheckbox.checked=false;
                }
                electroQuestCheckbox.disabled = true;
            } else{
              if(electroQuestCheckbox.disabled){
                electroQuestCheckbox.disabled=false;
                }
            }
            if (electroQuestCheckbox.checked) {
                if(codeDeBasantiCheckbox.checked){
                  codeDeBasantiCheckbox.checked=false;
                }
                codeDeBasantiCheckbox.disabled = true;
            }else{
              if(codeDeBasantiCheckbox.disabled){
                codeDeBasantiCheckbox.disabled=false;
              }
            }
            if (piRatesCheckbox.checked) {
                if(logicLoopsCheckbox.checked){
                  logicLoopsCheckbox.checked=false;
                }
                logicLoopsCheckbox.disabled = true;
            } else{
              if(logicLoopsCheckbox.disabled){
                logicLoopsCheckbox.disabled=false;
                }
            }
            document.getElementById('eventLogicLoops').addEventListener('load', function() {
                var logicLoopsFields = document.getElementById('logicLoopsFields');
                var logicLoopsCheckbox = document.getElementById('eventLogicLoops');
                var logicLoopsTeamMembers = document.getElementById('logicLoopsTeamMembers');

                if (logicLoopsCheckbox.checked) {
                    logicLoopsFields.style.display = 'block';
                    logicLoopsTeamMembers.setAttribute('required', 'required');
                    
                } else {
                    logicLoopsFields.style.display = 'none';
                    logicLoopsTeamMembers.removeAttribute('required');
                }
            });

            document.getElementById("logicLoopsFields").style.display = logicLoopsCheckbox.checked ? "block" : "none";
            document.getElementById("codeDeBasantiFields").style.display = codeDeBasantiCheckbox.checked ? "block" : "none";
            document.getElementById("piRatesFields").style.display = piRatesCheckbox.checked ? "block" : "none";
            document.getElementById("electroQuestFields").style.display = electroQuestCheckbox.checked ? "block" : "none";
            document.getElementById("nrityaAbhayFields").style.display = nrityaAbhayCheckbox.checked ? "block" : "none";
            document.getElementById('nrityaAbhayTeamMembers').addEventListener('input', function() {
                var numberOfTeamMembers = parseInt(this.value);
                for (var i = 1; i <= 8; i++) {
                    var inputField = document.getElementById("namember" + i);
                    if (i <= numberOfTeamMembers) {
                        inputField.style.display = "block";
                    } else {
                        inputField.style.display = "none";
                    }
                }
            });
            document.getElementById('electroQuestTeamMembers').addEventListener('input', function() {
              var numberOfTeamMembers = parseInt(this.value);
              for (var i = 1; i <= 3; i++) {
                  var inputField = document.getElementById("eqmember" + i);
                  if (i <= numberOfTeamMembers) {
                      inputField.style.display = "block";
                  } else {
                      inputField.style.display = "none";
                  }
              }
          });
          document.getElementById('piRatesTeamMembers').addEventListener('input', function() {
              var numberOfTeamMembers = parseInt(this.value);
              for (var i = 1; i <= 3; i++) {
                  var inputField = document.getElementById("prmember" + i);
                  if (i <= numberOfTeamMembers) {
                      inputField.style.display = "block";
                  } else {
                      inputField.style.display = "none";
                  }
              }
          });
          document.getElementById('codeDeBasantiTeamMembers').addEventListener('input', function() {
              var numberOfTeamMembers = parseInt(this.value);
              for (var i = 1; i <= 4; i++) {
                  var inputField = document.getElementById("cdbmember" + i);
                  if (i <= numberOfTeamMembers) {
                      inputField.style.display = "block";
                  } else {
                      inputField.style.display = "none";
                  }
              }
          });
          document.getElementById('logicLoopsTeamMembers').addEventListener('input', function() {
              var numberOfTeamMembers = parseInt(this.value);
              for (var i = 1; i <= 3; i++) {
                  var inputField = document.getElementById("member" + i);
                  if (i <= numberOfTeamMembers) {
                      inputField.style.display = "block";
                  } else {
                      inputField.style.display = "none";
                  }
              }
          });


          // LogicLoops section
          for (var i = 1; i <= 3; i++) {
              var inputField = document.getElementById("member" + i);
              if (i <= numberOfTeamMembers) {
                  inputField.style.display = "block";
                  inputField.querySelectorAll("input").forEach(input => {
                      input.required = true;
                  });
              } else {
                  inputField.style.display = "none";
                  inputField.querySelectorAll("input").forEach(input => {
                      input.required = false;
                  });
              }
          }

          // CodeDeBasanti section
          for (var i = 1; i <= 4; i++) {
              var inputField = document.getElementById("cdbmember" + i);
              if (i <= numberOfTeamMembers) {
                  inputField.style.display = "block";
                  inputField.querySelectorAll("input").forEach(input => {
                      input.required = true;
                  });
              } else {
                  inputField.style.display = "none";
                  inputField.querySelectorAll("input").forEach(input => {
                      input.required = false;
                  });
              }
          }

          // ElectroQuest section
          for (var i = 1; i <= 3; i++) {
              var inputField = document.getElementById("eqmember" + i);
              if (i <= numberOfTeamMembers) {
                  inputField.style.display = "block";
                  inputField.querySelectorAll("input").forEach(input => {
                      input.required = true;
                  });
              } else {
                  inputField.style.display = "none";
                  inputField.querySelectorAll("input").forEach(input => {
                      input.required = false;
                  });
              }
          }

          // piRates section
          for (var i = 1; i <= 3; i++) {
              var inputField = document.getElementById("prmember" + i);
              if (i <= numberOfTeamMembers) {
                  inputField.style.display = "block";
                  inputField.querySelectorAll("input").forEach(input => {
                      input.required = true;
                  });
              } else {
                  inputField.style.display = "none";
                  inputField.querySelectorAll("input").forEach(input => {
                      input.required = false;
                  });
              }
          }

            // Nritya-Abhay section
            for (var i = 1; i <= 8; i++) {
                var inputField = document.getElementById("namember" + i);
                if (i <= numberOfTeamMembers) {
                    inputField.style.display = "block";
                    inputField.querySelectorAll("input").forEach(input => {
                        input.required = true;
                    });
                } else {
                    inputField.style.display = "none";
                    inputField.querySelectorAll("input").forEach(input => {
                        input.required = false;
                    });
                }
            }

// Other team name fields
document.getElementsByName("LL: team name")[0].required = numberOfTeamMembers > 0;
document.getElementsByName("CDB: team name")[0].required = numberOfTeamMembers > 0;
document.getElementsByName("EQ: team name ")[0].required = numberOfTeamMembers > 0;
document.getElementsByName("PR: team name")[0].required = numberOfTeamMembers > 0;
document.getElementsByName("NA: team name")[0].required = numberOfTeamMembers > 0;

          }
  
    </script>
</form>


<script type="x-shader/x-vertex" id="vertexshader">

  attribute float size;
  attribute vec3 customColor;
  varying vec3 vColor;

  void main() {

    vColor = customColor;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_PointSize = size * ( 300.0 / -mvPosition.z );
    gl_Position = projectionMatrix * mvPosition;

  }

</script>
<script type="x-shader/x-fragment" id="fragmentshader">

 uniform vec3 color;
 uniform sampler2D pointTexture;

 varying vec3 vColor;

 void main() {

   gl_FragColor = vec4( color * vColor, 1.0 );
   gl_FragColor = gl_FragColor * texture2D( pointTexture, gl_PointCoord );

 }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>
    const preload = () => {
        function handleScroll() {
    const scrollPosition = window.scrollY;
    const page1 = document.getElementById('page1');
    const page2 = document.getElementById('page2');

    if (scrollPosition < page1.offsetTop) {
        showPage('page1');
        hidePage('page2');
    } else {
        showPage('page2');
        hidePage('page1');
    }
}

function showPage(pageId) {
    const page = document.getElementById(pageId);
    page.classList.remove('hidden');
    page.classList.add('visible');
}

function hidePage(pageId) {
    const page = document.getElementById(pageId);
    page.classList.remove('visible');
    page.classList.add('hidden');
}

// Initial setup
window.addEventListener('scroll', handleScroll);
window.addEventListener('DOMContentLoaded', handleScroll);

      let manager = new THREE.LoadingManager();
      manager.onLoad = function() { 
        const environment = new Environment( typo, particle );
      }

      var typo = null;
      const loader = new THREE.FontLoader( manager );
      const font = loader.load('https://res.cloudinary.com/dydre7amr/raw/upload/v1612950355/font_zsd4dr.json', function ( font ) { typo = font; });
      const particle = new THREE.TextureLoader( manager ).load( 'https://res.cloudinary.com/dfvtkoboz/image/upload/v1605013866/particle_a64uzf.png');

    }

    if ( document.readyState === "complete" || (document.readyState !== "loading" && !document.documentElement.doScroll))
    preload ();
    else
    document.addEventListener("DOMContentLoaded", preload ); 



    class Environment {

    constructor( font, particle ){ 

    this.font = font;
    this.particle = particle;
    this.container = document.querySelector( '#magic' );
    this.scene = new THREE.Scene();
    this.createCamera();
    this.createRenderer();
    this.setup()
    this.bindEvents();
    }

    bindEvents(){

    window.addEventListener( 'resize', this.onWindowResize.bind( this ));

    }

    setup(){ 

    this.createParticles = new CreateParticles( this.scene, this.font,             this.particle, this.camera, this.renderer );
    }

    render() {

      this.createParticles.render()
      this.renderer.render( this.scene, this.camera )
    }

    createCamera() {

    this.camera = new THREE.PerspectiveCamera( 65, this.container.clientWidth /  this.container.clientHeight, 1, 10000 );
    this.camera.position.set( 0,0, 100 );

    }

    createRenderer() {

    this.renderer = new THREE.WebGLRenderer();
    this.renderer.setSize( this.container.clientWidth, this.container.clientHeight );

    this.renderer.setPixelRatio( Math.min( window.devicePixelRatio, 2));

    this.renderer.outputEncoding = THREE.sRGBEncoding;
    this.container.appendChild( this.renderer.domElement );

    this.renderer.setAnimationLoop(() => { this.render() })

    }

    onWindowResize(){

    this.camera.aspect = this.container.clientWidth / this.container.clientHeight;
    this.camera.updateProjectionMatrix();
    this.renderer.setSize( this.container.clientWidth, this.container.clientHeight );

    }
    }

    class CreateParticles {

    constructor( scene, font, particleImg, camera, renderer ) {

        this.scene = scene;
        this.font = font;
        this.particleImg = particleImg;
        this.camera = camera;
        this.renderer = renderer;
        
        this.raycaster = new THREE.Raycaster();
        this.mouse = new THREE.Vector2(-200, 200);
        
        this.colorChange = new THREE.Color();

        this.buttom = false;

        this.data = {
    text: window.innerWidth > window.innerHeight ? 'TECHNOTSAV"24' : 'TECHNO\nTSAV"24',
    amount: 1500,
    particleSize: .6,
    particleColor: 0xffffff,
    textSize: 12,
    area: 250,
    ease: .05,
    
};
// Add an event listener for window resize
    


        this.setup();
        this.bindEvents();

    }


    setup(){

        const geometry = new THREE.PlaneGeometry( this.visibleWidthAtZDepth( 100, this.camera ), this.visibleHeightAtZDepth( 100, this.camera ));
        const material = new THREE.MeshBasicMaterial( { color: 0x00ff00, transparent: true } );
        this.planeArea = new THREE.Mesh( geometry, material );
        this.planeArea.visible = false;
        this.createText();

    }

    bindEvents() {

        document.addEventListener( 'mousedown', this.onMouseDown.bind( this ));
        document.addEventListener( 'mousemove', this.onMouseMove.bind( this ));
        document.addEventListener( 'mouseup', this.onMouseUp.bind( this ));
        
    }

    onMouseDown(){
        
        this.mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;
        this.mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;

        const vector = new THREE.Vector3( this.mouse.x, this.mouse.y, 0.5);
        vector.unproject( this.camera );
        const dir = vector.sub( this.camera.position ).normalize();
        const distance = - this.camera.position.z / dir.z;
        this.currenPosition = this.camera.position.clone().add( dir.multiplyScalar( distance ) );
        
        const pos = this.particles.geometry.attributes.position;
        this.buttom = true;
        this.data.ease = .01;
        
    }

    onMouseUp(){

        this.buttom = false;
        this.data.ease = .05;
    }

    onMouseMove( ) { 

        this.mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;
        this.mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;

    }

    render( level ){ 

        const time = ((.001 * performance.now())%12)/12;
        const zigzagTime = (1 + (Math.sin( time * 2 * Math.PI )))/6;

        this.raycaster.setFromCamera( this.mouse, this.camera );

        const intersects = this.raycaster.intersectObject( this.planeArea );

        if ( intersects.length > 0 ) {

            const pos = this.particles.geometry.attributes.position;
            const copy = this.geometryCopy.attributes.position;
            const coulors = this.particles.geometry.attributes.customColor;
            const size = this.particles.geometry.attributes.size;

            const mx = intersects[ 0 ].point.x;
            const my = intersects[ 0 ].point.y;
            const mz = intersects[ 0 ].point.z;

            for ( var i = 0, l = pos.count; i < l; i++) {

                const initX = copy.getX(i);
                const initY = copy.getY(i);
                const initZ = copy.getZ(i);

                let px = pos.getX(i);
                let py = pos.getY(i);
                let pz = pos.getZ(i);

                this.colorChange.setHSL( .5, 1 , 1 )
                coulors.setXYZ( i, this.colorChange.r, this.colorChange.g, this.colorChange.b )
                coulors.needsUpdate = true;

                size.array[ i ]  = this.data.particleSize;
                size.needsUpdate = true;

                let dx = mx - px;
                let dy = my - py;
                const dz = mz - pz;

                const mouseDistance = this.distance( mx, my, px, py )
                let d = ( dx = mx - px ) * dx + ( dy = my - py ) * dy;
                const f = - this.data.area/d;

                if( this.buttom ){ 

                    const t = Math.atan2( dy, dx );
                    px -= f * Math.cos( t );
                    py -= f * Math.sin( t );

                    this.colorChange.setHSL( .5 + zigzagTime, 1.0 , .5 )
                    coulors.setXYZ( i, this.colorChange.r, this.colorChange.g, this.colorChange.b )
                    coulors.needsUpdate = true;

                    if ((px > (initX + 70)) || ( px < (initX - 70)) || (py > (initY + 70) || ( py < (initY - 70)))){

                        this.colorChange.setHSL( .15, 1.0 , .5 )
                        coulors.setXYZ( i, this.colorChange.r, this.colorChange.g, this.colorChange.b )
                        coulors.needsUpdate = true;

                    }

                }else{
                
                    if( mouseDistance < this.data.area ){

                        if(i%5==0){

                            const t = Math.atan2( dy, dx );
                            px -= .03 * Math.cos( t );
                            py -= .03 * Math.sin( t );

                            this.colorChange.setHSL( .15 , 1.0 , .5 )
                            coulors.setXYZ( i, this.colorChange.r, this.colorChange.g, this.colorChange.b )
                            coulors.needsUpdate = true;

                            size.array[ i ]  =  this.data.particleSize /1.2;
                            size.needsUpdate = true;

                        }else{

                            const t = Math.atan2( dy, dx );
                            px += f * Math.cos( t );
                            py += f * Math.sin( t );

                            pos.setXYZ( i, px, py, pz );
                            pos.needsUpdate = true;

                            size.array[ i ]  = this.data.particleSize * 1.3 ;
                            size.needsUpdate = true;
                        }

                        if ((px > (initX + 10)) || ( px < (initX - 10)) || (py > (initY + 10) || ( py < (initY - 10)))){

                            this.colorChange.setHSL( .15, 1.0 , .5 )
                            coulors.setXYZ( i, this.colorChange.r, this.colorChange.g, this.colorChange.b )
                            coulors.needsUpdate = true;

                            size.array[ i ]  = this.data.particleSize /1.8;
                            size.needsUpdate = true;

                        }
                    }

                }

                px += ( initX  - px ) * this.data.ease;
                py += ( initY  - py ) * this.data.ease;
                pz += ( initZ  - pz ) * this.data.ease;

                pos.setXYZ( i, px, py, pz );
                pos.needsUpdate = true;

            }
        }
    }

    createText(){ 

        let thePoints = [];

        let shapes = this.font.generateShapes( this.data.text , this.data.textSize  );
        let geometry = new THREE.ShapeGeometry( shapes );
        geometry.computeBoundingBox();

        const xMid = - 0.5 * ( geometry.boundingBox.max.x - geometry.boundingBox.min.x );
        const yMid =  (geometry.boundingBox.max.y - geometry.boundingBox.min.y)/2.85;

        geometry.center();

        let holeShapes = [];

        for ( let q = 0; q < shapes.length; q ++ ) {

            let shape = shapes[ q ];

            if ( shape.holes && shape.holes.length > 0 ) {

                for ( let  j = 0; j < shape.holes.length; j ++ ) {

                    let  hole = shape.holes[ j ];
                    holeShapes.push( hole );
                }
            }

        }
        shapes.push.apply( shapes, holeShapes );

        let colors = [];
        let sizes = [];
                    
        for ( let  x = 0; x < shapes.length; x ++ ) {

            let shape = shapes[ x ];

            const amountPoints = ( shape.type == 'Path') ? this.data.amount/2 : this.data.amount;

            let points = shape.getSpacedPoints( amountPoints ) ;

            points.forEach( ( element, z ) => {
                        
                const a = new THREE.Vector3( element.x, element.y, 0 );
                thePoints.push( a );
                colors.push( this.colorChange.r, this.colorChange.g, this.colorChange.b);
                sizes.push( 1 )

                });
        }

        let geoParticles = new THREE.BufferGeometry().setFromPoints( thePoints );
        geoParticles.translate( xMid, yMid, 0 );
                
        geoParticles.setAttribute( 'customColor', new THREE.Float32BufferAttribute( colors, 3 ) );
        geoParticles.setAttribute( 'size', new THREE.Float32BufferAttribute( sizes, 1) );

        const material = new THREE.ShaderMaterial( {

            uniforms: {
                color: { value: new THREE.Color( 0xffffff ) },
                pointTexture: { value: this.particleImg }
            },
            vertexShader: document.getElementById( 'vertexshader' ).textContent,
            fragmentShader: document.getElementById( 'fragmentshader' ).textContent,

            blending: THREE.AdditiveBlending,
            depthTest: false,
            transparent: true,
        } );

        this.particles = new THREE.Points( geoParticles, material );
        this.scene.add( this.particles );

        this.geometryCopy = new THREE.BufferGeometry();
        this.geometryCopy.copy( this.particles.geometry );
        
    }

    visibleHeightAtZDepth ( depth, camera ) {

      const cameraOffset = camera.position.z;
      if ( depth < cameraOffset ) depth -= cameraOffset;
      else depth += cameraOffset;

      const vFOV = camera.fov * Math.PI / 180; 

      return 2 * Math.tan( vFOV / 2 ) * Math.abs( depth );
    }

    visibleWidthAtZDepth( depth, camera ) {

      const height = this.visibleHeightAtZDepth( depth, camera );
      return height * camera.aspect;

    }

    distance (x1, y1, x2, y2){
        
        return Math.sqrt(Math.pow((x1 - x2), 2) + Math.pow((y1 - y2), 2));
    }
    }
  </script>
</body>
</html>






  </script>
  <script></script>
</body>
</html>
